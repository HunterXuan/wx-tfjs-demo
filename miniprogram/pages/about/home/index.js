"use strict";Page({data:{viewCount:0,starCount:0,forkCount:0},onLoad:function(){wx.cloud.database().collection("repo_stats").get({success:t=>{let e=0,o=0,a=0;t.data.forEach((t=>{"star_count"==t.label&&(e=t.value),"view_count"==t.label&&(o=t.value),"fork_count"==t.label&&(a=t.value)})),this.setData({starCount:this.formatNum(e),viewCount:this.formatNum(o),forkCount:this.formatNum(a)})}})},formatNum:function(t){let e;return t<=0?e="N/A":t<1e3?e=t.toString():t<1e4?e=(t/1e3).toFixed(1)+"k":t>1e4&&(e=(t/1e4).toFixed(1)+"w"),e},showQrcode:function(){wx.previewImage({urls:["https://ai.flypot.cn/pocket/images/zan-code.jpg"],current:"https://ai.flypot.cn/pocket/images/zan-code.jpg"})}});
